!function(e){"use strict";function t(e){var t=new o(e);t.run()}"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:e.obsoleteBrowser=t;var o=function(e){var t=this;t.defaults={test:"ie9",noticeOnce:!0},t.settings={},t.noticeCookieName="obs-browser-noticed",t.parseOptions(e)};o.prototype.run=function(){var e=this;if(!e.settings.noticeOnce||1!=e.needNotice()){var t="function"==typeof e.settings.test?e.settings.test():e.testProp(e.settings.test);t||e.showNotice()}},o.prototype.parseOptions=function(e){var t=this;e=e||{},e.test&&("borderSpacing"==e.test||"ie8"==e.test||"IE8"==e.test?e.test="borderSpacing":"boxShadow"==e.test||"ie9"==e.test||"IE9"==e.test||""==e.test||"undefined"==typeof e.test?e.test="boxShadow":"transform"==e.test||"ie10"==e.test||"IE10"==e.test?e.test="transform":"borderImage"!=e.test&&"ie11"!=e.test&&"IE11"!=e.test||(e.test="borderImage")),t.__extend(t.settings,t.defaults,e)},o.prototype.testProp=function(e){var t=document.createElement("div"),o=["Khtml","Ms","O","Moz","Webkit"],n=o.length;if(e in t.style)return!0;for(e=e.replace(/^[a-z]/,function(e){return e.toUpperCase()});n--;)if(o[n]+e in t.style)return!0;return!1},o.prototype.getTemplate=function(){var e=this,t=e.getTemplateTranslate();return'<div class="obs-browser"><div class="obs-browser__title">'+t.title+'</div><div class="obs-browser__text">'+t.text+'</div><div class="obs-browser__list"><a href="http://www.google.ru/intl/ru/chrome/" target="_blank" rel="nofollow" title="Google Chrome">Google Chrome</a>, <a href="http://www.mozilla.org/ru/firefox/new/" target="_blank" rel="nofollow" title="Mozilla Firefox">Mozilla Firefox</a>, <a href="https://support.apple.com/downloads/safari" target="_blank" rel="nofollow" title="Safari">Safari</a>, <a href="http://www.opera.com/ru" target="_blank" rel="nofollow" title="Opera">Opera</a>, <a href="http://windows.microsoft.com/ru-ru/internet-explorer/download-ie" target="_blank" rel="nofollow" title="Internet Explorer">Internet Explorer</a></div><div class="obs-browser__close" id="obs-browser-close">×</div></div>'},o.prototype.getTemplateTranslate=function(){var e,t=document.documentElement.lang||window.navigator.userLanguage||window.navigator.language,o=["ru","ru-RU","ru_RU"];return e=-1!=o.indexOf(t)?{title:"Вы используете устаревший браузер",text:"Сайт может отображаться некорректно. Вам необходимо обновить браузер:"}:{title:"You are using an outdated browser",text:"The site may not be displayed correctly. You need to upgrade your browser:"}},o.prototype.showNotice=function(){var e=this;if(e.settings.notice&&"function"==typeof e.settings.notice)return e.settings.notice();var t;t=""==e.settings.noticeTemplate||"undefined"==typeof e.settings.noticeTemplate?e.getTemplate():"function"==typeof e.settings.noticeTemplate?e.settings.noticeTemplate():e.settings.noticeTemplate;var o=document.createElement("div");o.innerHTML=t,e.notice=document.body.insertBefore(o.children[0],document.body.firstChild);var n=document.getElementById("obs-browser-close");n&&(n.addEventListener?n.addEventListener("click",e.removeNotice.bind(e),!1):n.attachEvent?n.attachEvent("onclick",e.removeNotice.bind(e)):n.onclick=e.removeNotice.bind(e))},o.prototype.removeNotice=function(){var e=this;document.body.removeChild(e.notice),e.settings.noticeOnce&&(document.cookie=e.noticeCookieName+"=1;path=/;")},o.prototype.needNotice=function(){var e=this,t=document.cookie.match(new RegExp("(?:^|; )"+e.noticeCookieName.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?parseInt(decodeURIComponent(t[1])):void 0},o.prototype.__extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var o=arguments[t];if(o)for(var n in o)o.hasOwnProperty(n)&&("object"==typeof o[n]?this.__extend(e[n],o[n]):e[n]=o[n])}return e}}(this);